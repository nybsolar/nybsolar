<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NYB Solar & CCTV — Instant Quote</title>
  <style>
    :root {
      --brand: #0e7490; /* teal-700 */
      --brand-2: #155e75; /* teal-800 */
      --accent: #f59e0b; /* amber-500 */
      --ink: #0f172a; /* slate-900 */
      --muted: #475569; /* slate-600 */
      --bg: #f8fafc; /* slate-50 */
      --card: #ffffff;
      --ring: #bae6fd; /* sky-200 */
    }
    * { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji"; background: var(--bg); color: var(--ink); }

    header {
      position: sticky; top: 0; z-index: 20;
      display: flex; gap: 16px; align-items: center; justify-content: space-between;
      padding: 14px 18px; background: linear-gradient(180deg, #0e7490, #0ea5b1);
      color: #fff; box-shadow: 0 2px 10px rgba(0,0,0,0.08);
    }
    header .brand { display: flex; gap: 10px; align-items: center; font-weight: 800; letter-spacing: .3px; }
    header .brand .logo { width: 38px; height: 38px; border-radius: 10px; background: #fff; color: var(--brand-2); display:flex; align-items:center; justify-content:center; font-weight:900; }
    header nav a { color: #e2f1ff; text-decoration: none; margin-left: 18px; font-weight: 600; }
    header nav a:hover { text-decoration: underline; }

    .container { max-width: 1120px; margin: 20px auto; padding: 0 16px; }

    .hero { display: grid; grid-template-columns: 1.2fr .8fr; gap: 20px; align-items: center; }
    @media (max-width: 920px) { .hero { grid-template-columns: 1fr; } }
    .hero-card { background: var(--card); border-radius: 16px; padding: 18px; box-shadow: 0 6px 24px rgba(2, 132, 199, 0.08); border: 1px solid #e2e8f0; }
    .hero h1 { margin: 0 0 8px; font-size: clamp(22px, 3vw, 34px); }
    .sub { color: var(--muted); margin: 0 0 14px; }
    .pill { display:inline-block; padding:6px 10px; background:#ecfeff; color:#0369a1; border-radius:999px; font-weight:700; font-size:12px; letter-spacing:.3px; }

    .grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 16px; }
    .col-8 { grid-column: span 8; } .col-4 { grid-column: span 4; }
    @media (max-width: 920px) { .col-8, .col-4 { grid-column: 1 / -1; } }

    .card { background: var(--card); border-radius: 16px; padding: 16px; box-shadow: 0 10px 26px rgba(15, 23, 42, 0.06); border: 1px solid #e2e8f0; }
    .card h2, .card h3 { margin-top: 0; }

    form .row { display: grid; grid-template-columns: repeat(12, 1fr); gap: 12px; }
    form .field { grid-column: span 6; display: flex; flex-direction: column; gap: 6px; }
    form .field.full { grid-column: 1 / -1; }
    form label { font-size: 13px; color: var(--muted); font-weight: 700; }
    input[type="text"], input[type="number"], input[type="email"], select, textarea { padding: 12px 12px; border: 1px solid #cbd5e1; border-radius: 10px; background: #fff; outline: none; }
    input:focus, select:focus, textarea:focus { border-color: #0284c7; box-shadow: 0 0 0 4px var(--ring); }

    .actions { display: flex; gap: 10px; flex-wrap: wrap; }
    .btn { border: none; padding: 12px 16px; border-radius: 12px; font-weight: 800; cursor: pointer; }
    .btn.primary { background: linear-gradient(180deg, #0284c7, #0369a1); color: #fff; }
    .btn.ghost { background: #fff; color: #0369a1; border: 1px solid #bae6fd; }

    .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    @media (max-width: 720px) { .two-col { grid-template-columns: 1fr; } }

    .breakdown { background: #f1f5f9; border-radius: 12px; padding: 12px; max-height: 380px; overflow: auto; }
    .breakdown p { margin: 6px 0; }
    .breakdown .line { display: flex; justify-content: space-between; gap: 10px; border-bottom: 1px dashed #cbd5e1; padding: 8px 0; }
    .breakdown .line:last-child { border-bottom: none; }
    .muted { color: var(--muted); font-size: 13px; }

    .badge { font-size: 12px; font-weight: 800; background: #e0f2fe; color: #075985; padding: 6px 8px; border-radius: 999px; display: inline-block; }

    footer { text-align: center; color: var(--muted); font-size: 13px; padding: 32px 16px; }

    .catalog { margin-top: 24px; }
    .catalog-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 14px; }
    .product { background: #fff; border: 1px solid #e2e8f0; border-radius: 14px; padding: 12px; }
    .product h4 { margin: 8px 0 6px; }
    .product .tag { display:inline-block; background:#fef3c7; color:#92400e; font-size:12px; padding:4px 8px; border-radius:999px; font-weight:700; }

    .assumptions { font-size: 12px; line-height: 1.6; }
    .assumptions table { width:100%; border-collapse: collapse; }
    .assumptions th, .assumptions td { text-align:left; padding:6px 4px; border-bottom:1px dashed #e2e8f0; font-size:12px; }

    .ok { color: #166534; }
    .warn { color: #92400e; }
    .err { color: #991b1b; }
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">NYB</div>
      <div>
        <div style="font-size: 14px; opacity:.9">NYB Solar & CCTV</div>
        <div style="font-size: 12px; opacity:.85">Clean Power • Smart Security</div>
      </div>
    </div>
    <nav>
      <a href="#quote">Get a Quote</a>
      <a href="#catalog">Catalog</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <div class="container">
    <section class="hero">
      <div class="hero-card">
        <span class="pill">INSTANT ESTIMATOR</span>
        <h1>Estimate your Solar & CCTV system in minutes</h1>
        <p class="sub">Enter your home or office details below. We’ll estimate panel count, inverter & battery size, and a rough budget. You can send the result to us on WhatsApp or email for a final quote.</p>
        <a class="btn ghost" href="#assumptions">View calculation assumptions</a>
      </div>
      <div class="hero-card">
        <div class="assumptions">
          <strong>Quick tips</strong>
          <ul>
            <li>Back‑up hours = how long you want power during an outage.</li>
            <li>AC loads are heavy; consider running fewer ACs on backup.</li>
            <li>All prices are placeholders — adjust in the code (PRICING block).</li>
          </ul>
          <p class="muted">This is a planning tool. Final pricing depends on site survey, cable runs, roof type, brand selection, and FX rates.</p>
        </div>
      </div>
    </section>

    <section id="quote" class="grid" style="margin-top: 18px;">
      <div class="col-8 card">
        <h2>Get a Quote</h2>
        <form id="quoteForm">
          <div class="row" style="margin-bottom: 10px;">
            <div class="field">
              <label>Full name</label>
              <input type="text" id="custName" placeholder="e.g. John Doe" required>
            </div>
            <div class="field">
              <label>Phone (WhatsApp)</label>
              <input type="text" id="custPhone" placeholder="e.g. +234..." required>
            </div>
            <div class="field">
              <label>Email</label>
              <input type="email" id="custEmail" placeholder="e.g. you@example.com">
            </div>
            <div class="field">
              <label>City</label>
              <input type="text" id="custCity" placeholder="e.g. Lagos">
            </div>
            <div class="field">
              <label>Include installation?</label>
              <select id="includeInstall">
                <option value="yes" selected>Yes</option>
                <option value="no">No (equipment only)</option>
              </select>
            </div>
            <div class="field">
              <label>Add CCTV package?</label>
              <select id="includeCctv">
                <option value="none" selected>No</option>
                <option value="basic">Basic (DVR, 4 cams)</option>
                <option value="pro">Pro (NVR, 8 cams)</option>
              </select>
            </div>
          </div>

          <h3>House / Office Details</h3>
          <div class="row" style="margin-bottom: 4px;">
            <div class="field">
              <label>Floor area (m²)</label>
              <input type="number" id="floorArea" placeholder="e.g. 120" min="0" value="80">
            </div>
            <div class="field">
              <label>Backup hours desired</label>
              <select id="backupHours">
                <option value="6">6 hours</option>
                <option value="12" selected>12 hours</option>
                <option value="24">24 hours</option>
              </select>
            </div>
            <div class="field">
              <label>Roof type</label>
              <select id="roofType">
                <option value="metal" selected>Metal</option>
                <option value="shingles">Shingles</option>
                <option value="flat">Flat / Concrete</option>
              </select>
            </div>
            <div class="field">
              <label>Wiring distance estimate (m)</label>
              <input type="number" id="wireLen" placeholder="e.g. 30" min="0" value="25">
            </div>
          </div>

          <h3>Appliances (quantity)</h3>
          <div class="row">
            <div class="field"><label>LED bulbs</label><input type="number" id="led" min="0" value="8"></div>
            <div class="field"><label>Ceiling / standing fans</label><input type="number" id="fans" min="0" value="4"></div>
            <div class="field"><label>TVs</label><input type="number" id="tv" min="0" value="2"></div>
            <div class="field"><label>Laptops</label><input type="number" id="laptop" min="0" value="2"></div>
            <div class="field"><label>Routers</label><input type="number" id="router" min="0" value="1"></div>
            <div class="field"><label>Refrigerators</label><input type="number" id="fridge" min="0" value="1"></div>
            <div class="field"><label>Freezers</label><input type="number" id="freezer" min="0" value="0"></div>
            <div class="field"><label>AC (1 HP)</label><input type="number" id="ac1" min="0" value="1"></div>
            <div class="field"><label>AC (2 HP)</label><input type="number" id="ac2" min="0" value="0"></div>
            <div class="field"><label>Water pump</label><input type="number" id="pump" min="0" value="0"></div>
            <div class="field full"><label>Other loads (watts)</label><input type="number" id="otherW" min="0" value="0" placeholder="Custom continuous watts"></div>
          </div>

          <div class="actions" style="margin-top: 12px;">
            <button type="button" class="btn primary" onclick="computeEstimate()">Compute Cost</button>
            <button type="reset" class="btn ghost" onclick="resetResults()">Reset</button>
          </div>
        </form>
      </div>

      <div class="col-4 card">
        <h3>Estimate</h3>
        <div id="estimateBox" class="breakdown">
          <p class="muted">Fill the form and click <strong>Compute Cost</strong> to see an itemized estimate here.</p>
        </div>
        <div class="two-col" style="margin-top: 10px;">
          <button class="btn primary" onclick="shareWhatsapp()">Share via WhatsApp</button>
          <button class="btn ghost" onclick="copySummary()">Copy summary</button>
        </div>
        <p class="muted" style="margin-top:8px">Need help? <a href="#contact">Contact us</a> for a free consultation.</p>
      </div>
    </section>

    <section id="assumptions" class="card" style="margin-top: 16px;">
      <h3>Calculation assumptions</h3>
      <div class="two-col">
        <div class="assumptions">
          <table>
            <tr><th>Appliance</th><th>Watts</th></tr>
            <tr><td>LED bulb</td><td>10 W</td></tr>
            <tr><td>Fan</td><td>75 W</td></tr>
            <tr><td>TV</td><td>100 W</td></tr>
            <tr><td>Laptop</td><td>60 W</td></tr>
            <tr><td>Router</td><td>10 W</td></tr>
            <tr><td>Fridge</td><td>150 W × 0.6 duty</td></tr>
            <tr><td>Freezer</td><td>180 W × 0.6 duty</td></tr>
            <tr><td>AC 1 HP</td><td>750 W</td></tr>
            <tr><td>AC 2 HP</td><td>1500 W</td></tr>
            <tr><td>Water pump</td><td>1000 W</td></tr>
          </table>
          <p class="muted">Diversity factor: 0.6 applied to totals to reflect not-all-at-once use (excluding AC & pumps). Battery DoD = 80%, inverter & system efficiency = 90%.
          Peak sun hours assumed ~4.5 (Lagos) with derate 0.75.
          </p>
        </div>
        <div class="assumptions">
          <table>
            <tr><th>Placeholder unit prices (NGN)</th><th>Value</th></tr>
            <tr><td>Solar panel 550W</td><td>₦180,000</td></tr>
            <tr><td>Battery (per kWh, LiFePO₄)</td><td>₦190,000</td></tr>
            <tr><td>Inverter (per kW)</td><td>₦120,000</td></tr>
            <tr><td>Mounting + BOS</td><td>~15% of hardware</td></tr>
            <tr><td>Wiring (per meter)</td><td>₦2,000</td></tr>
            <tr><td>Installation labour</td><td>~10% of hardware</td></tr>
            <tr><td>CCTV basic (4 cams + DVR)</td><td>₦420,000</td></tr>
            <tr><td>CCTV pro (8 cams + NVR)</td><td>₦980,000</td></tr>
          </table>
          <p class="muted">Edit these prices in the code block <strong>PRICING</strong> to match your suppliers. FX & brands can shift costs.</p>
        </div>
      </div>
    </section>

    <section id="catalog" class="catalog card">
      <h3>Catalog (sample)</h3>
      <div class="catalog-grid">
        <div class="product">
          <span class="tag">Solar</span>
          <h4>550W Tier-1 Panel</h4>
          <p>High-efficiency mono PERC. 25‑year performance warranty.</p>
        </div>
        <div class="product">
          <span class="tag">Solar</span>
          <h4>Hybrid Inverter 5 kW</h4>
          <p>Pure sine-wave, MPPT, Wi‑Fi app monitoring.</p>
        </div>
        <div class="product">
          <span class="tag">Battery</span>
          <h4>LiFePO₄ 5 kWh</h4>
          <p>Long cycle life, wall‑mount, BMS protected.</p>
        </div>
        <div class="product">
          <span class="tag">CCTV</span>
          <h4>4‑Camera Kit</h4>
          <p>1080p cameras, DVR, 1TB HDD, remote view.</p>
        </div>
      </div>
    </section>

    <section id="contact" class="card" style="margin-top: 16px;">
      <h3>Contact</h3>
      <p class="muted">Questions or a site survey? Call/WhatsApp <strong id="phoneDisplay">+234 000 000 0000</strong> or email <strong id="emailDisplay">hello@nybsolar.com</strong>.</p>
      <form onsubmit="event.preventDefault(); shareWhatsapp();">
        <div class="two-col">
          <input id="contactName" type="text" placeholder="Your name" required />
          <input id="contactPhone" type="text" placeholder="Phone / WhatsApp" required />
        </div>
        <textarea id="contactMsg" rows="4" placeholder="Your message"></textarea>
        <div class="actions" style="margin-top:8px;">
          <button class="btn primary" type="submit">Send via WhatsApp</button>
          <button class="btn ghost" type="button" onclick="location.href='mailto:hello@nybsolar.com'">Email us</button>
        </div>
      </form>
    </section>

    <footer>
      © <span id="year"></span> NYB Solar & CCTV — All rights reserved.
    </footer>
  </div>

  <script>
    // ==========================
    // CONFIG — edit to your brand
    // ==========================
    const COMPANY = {
      phone: "+2340000000000", // digits only for wa.me link
      phoneHuman: "+234 000 000 0000",
      email: "hello@nybsolar.com",
      city: "Lagos"
    };

    document.getElementById('phoneDisplay').textContent = COMPANY.phoneHuman;
    document.getElementById('emailDisplay').textContent = COMPANY.email;
    document.getElementById('year').textContent = new Date().getFullYear();

    // ==========================
    // PRICING — placeholder NGN
    // ==========================
    const PRICING = {
      panelW: 550,                 // watts per panel
      panelPrice: 180000,          // NGN per panel
      batteryPerKWh: 190000,       // NGN per kWh (LiFePO4)
      inverterPerKW: 120000,       // NGN per kW
      wiringPerMeter: 2000,        // NGN per meter
      bosPercent: 0.15,            // mounts + BOS percentage of hardware
      labourPercent: 0.10,         // installation labour percent of hardware
      cctv: { basic: 420000, pro: 980000 }
    };

    // ==========================
    // ENGINE — sizing rules
    // ==========================
    const LOAD = {
      led: 10, fan: 75, tv: 100, laptop: 60, router: 10,
      fridge: 150 * 0.6, freezer: 180 * 0.6,
      ac1: 750, ac2: 1500, pump: 1000
    };

    const EFF = { diversity: 0.6, battDoD: 0.8, systemEff: 0.9, psHrs: 4.5, derate: 0.75 };

    function val(id){ return Number(document.getElementById(id).value || 0); }

    function computeEstimate(){
      // Collect inputs
      const name = document.getElementById('custName').value.trim();
      if(!name){ alert('Please enter your full name.'); return; }

      const includeInstall = document.getElementById('includeInstall').value === 'yes';
      const includeCctv = document.getElementById('includeCctv').value; // none/basic/pro
      const wireLen = val('wireLen');
      const backupHours = val('backupHours');

      const qty = {
        led: val('led'), fans: val('fans'), tv: val('tv'), laptop: val('laptop'), router: val('router'),
        fridge: val('fridge'), freezer: val('freezer'), ac1: val('ac1'), ac2: val('ac2'), pump: val('pump'), otherW: val('otherW')
      };

      // Compute continuous watts
      let baseW = qty.led*LOAD.led + qty.fans*LOAD.fan + qty.tv*LOAD.tv + qty.laptop*LOAD.laptop + qty.router*LOAD.router + qty.fridge*LOAD.fridge + qty.freezer*LOAD.freezer + qty.otherW;
      // AC & pump treated as on-when-needed; include at 100%
      const heavyW = qty.ac1*LOAD.ac1 + qty.ac2*LOAD.ac2 + qty.pump*LOAD.pump;
      const diversifiedW = baseW * EFF.diversity + heavyW; // W

      // Energy needed (Wh)
      const energyWh = diversifiedW * backupHours; // Wh
      // Battery sizing (kWh) with DoD & eff
      const batteryKWhReq = (energyWh / 1000) / (EFF.battDoD * EFF.systemEff);
      // Inverter size (kW) — peak watts /1000 with headroom
      const inverterKW = Math.max(1, Math.ceil((diversifiedW * 1.2) / 1000));
      // PV array required for daily energy recovery (kW)
      const dailyKWh = energyWh / 1000;
      const pvKW = Math.ceil((dailyKWh * 1.3) / (EFF.psHrs * EFF.derate));
      const panelCount = Math.max(1, Math.ceil((pvKW * 1000) / PRICING.panelW));

      // Costs
      const costPanels = panelCount * PRICING.panelPrice;
      const costBattery = Math.ceil(batteryKWhReq) * PRICING.batteryPerKWh;
      const costInverter = inverterKW * PRICING.inverterPerKW;
      const costWiring = wireLen * PRICING.wiringPerMeter;
      const hardware = costPanels + costBattery + costInverter;
      const bos = Math.round(hardware * PRICING.bosPercent);
      const labour = includeInstall ? Math.round(hardware * PRICING.labourPercent) : 0;
      const cctv = includeCctv === 'basic' ? PRICING.cctv.basic : includeCctv === 'pro' ? PRICING.cctv.pro : 0;

      const subtotal = hardware + bos + labour + costWiring + cctv;
      const vat = 0; // set if needed
      const total = subtotal + vat;

      const estBox = document.getElementById('estimateBox');
      const fmt = (n)=>`₦${n.toLocaleString()}`;

      const summary = {
        watts: Math.round(diversifiedW),
        batteryKWh: Math.ceil(batteryKWhReq),
        inverterKW,
        pvKW,
        panels: panelCount,
        costs: { costPanels, costBattery, costInverter, bos, costWiring, labour, cctv, subtotal, vat, total }
      };

      estBox.innerHTML = `
        <div class="line"><span>Estimated continuous load</span><strong>${summary.watts} W</strong></div>
        <div class="line"><span>Backup hours</span><strong>${backupHours} h</strong></div>
        <div class="line"><span>Recommended inverter</span><strong>${summary.inverterKW} kW</strong></div>
        <div class="line"><span>Battery bank</span><strong>${summary.batteryKWh} kWh (LiFePO₄)</strong></div>
        <div class="line"><span>PV array (approx.)</span><strong>${summary.pvKW} kW</strong></div>
        <div class="line"><span>Panel count (550W)</span><strong>${summary.panels} pcs</strong></div>
        <hr/>
        <div class="line"><span>Panels</span><strong>${fmt(summary.costs.costPanels)}</strong></div>
        <div class="line"><span>Batteries</span><strong>${fmt(summary.costs.costBattery)}</strong></div>
        <div class="line"><span>Inverter</span><strong>${fmt(summary.costs.costInverter)}</strong></div>
        <div class="line"><span>Mounting + BOS</span><strong>${fmt(summary.costs.bos)}</strong></div>
        <div class="line"><span>Wiring (${wireLen} m)</span><strong>${fmt(summary.costs.costWiring)}</strong></div>
        <div class="line"><span>Labour ${includeInstall ? '' : '(excluded)'}</span><strong>${fmt(summary.costs.labour)}</strong></div>
        ${cctv ? `<div class="line"><span>CCTV package</span><strong>${fmt(summary.costs.cctv)}</strong></div>` : ''}
        <div class="line"><span>VAT</span><strong>${fmt(summary.costs.vat)}</strong></div>
        <div class="line"><span><strong>Total (estimate)</strong></span><strong>${fmt(summary.costs.total)}</strong></div>
        <p class="muted">This is a planning estimate. We’ll confirm after a site survey.</p>
      `;

      // Save for sharing
      window.__lastEstimate = { name, includeInstall, includeCctv, wireLen, backupHours, qty, summary };
    }

    function resetResults(){
      document.getElementById('estimateBox').innerHTML = '<p class="muted">Fill the form and click <strong>Compute Cost</strong> to see an itemized estimate here.</p>';
      window.__lastEstimate = null;
    }

    function buildShareText(){
      const e = window.__lastEstimate; if(!e){ return 'No estimate yet.'; }
      const fmt = (n)=>`₦${n.toLocaleString()}`;
      return (
        `Quote request — ${e.name}\n`+
        `Backup: ${e.backupHours}h, Wiring: ${e.wireLen}m, Install: ${e.includeInstall ? 'Yes' : 'No'}\n`+
        `Loads: LED ${e.qty.led}, Fans ${e.qty.fans}, TV ${e.qty.tv}, Laptops ${e.qty.laptop}, Router ${e.qty.router}, `+
        `Fridge ${e.qty.fridge}, Freezer ${e.qty.freezer}, AC1HP ${e.qty.ac1}, AC2HP ${e.qty.ac2}, Pump ${e.qty.pump}, OtherW ${e.qty.otherW}\n`+
        `Sizing → Inverter: ${e.summary.inverterKW}kW, Battery: ${e.summary.batteryKWh}kWh, Panels: ${e.summary.panels} (≈${e.summary.pvKW}kW PV)\n`+
        `Costs → Panels ${fmt(e.summary.costs.costPanels)}, Batteries ${fmt(e.summary.costs.costBattery)}, Inverter ${fmt(e.summary.costs.costInverter)}, BOS ${fmt(e.summary.costs.bos)}, Wiring ${fmt(e.summary.costs.costWiring)}, Labour ${fmt(e.summary.costs.labour)}, CCTV ${fmt(e.summary.costs.cctv)}\n`+
        `Total (est.): ${fmt(e.summary.costs.total)}`
      );
    }

    function shareWhatsapp(){
      const msg = encodeURIComponent(buildShareText());
      const phone = COMPANY.phone.replace(/\D/g, '');
      if(!phone){ alert('Company WhatsApp number not set. Edit COMPANY.phone in code.'); return; }
      window.open(`https://wa.me/${phone}?text=${msg}`, '_blank');
    }

    function copySummary(){
      const text = buildShareText();
      navigator.clipboard.writeText(text).then(()=>{
        alert('Summary copied to clipboard. You can paste it into WhatsApp or email.');
      });
    }
  </script>
</body>
</html>
